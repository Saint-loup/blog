---
layout: base
---

{% if hero.image %}

  {% set heroComponent = ['components/hero-', hero.type, '.njk'] %}
  {{hero.image | log}}

  {% include heroComponent | join %}
{% else %}

{% endif %}

<article class="post-main template-post my-20 prose lg:prose-xl prose-lg article {{ structure.g_proseWidth }}">

  {% if not hero.image %}
    <header class="">
      <h1 class="{{ colors.headingsCustom or colors.headingsDefault }}">{{ seo.title or title }}</h1>
      <div class="text-sm {{ colors.authorCustom.date or colors.authorDefault.date}}">
        <time datetime="{{ page.date | dateToFormat("yyyy-MM-dd") }}">
          {{ page.date | dateToFormat("dd LLLl yyyy") }}
        </time>
      </div>
    </header>
  {% endif %}

  <div class="my-16 post-main">{{ content | safe }}</div>

</article>

<footer class="mt-16 mb-6 text-lg container-wide md:text-xl ">
  {% if structure.g_showTagPills or structure.g_showSocialShareIcons %}
    <div class="pt-4 mt-12 border-t md:justify-between md:items-start md:flex md:flex-row">
      {# If you don't want to display the Tag Pills, set "false" in /src/_data/structure.js #}
      {% if structure.g_showTagPills %}
        {% include "components/tagpills.njk" %}
      {% endif %}

    </div>
  {% endif %}

  {# ===== Previous and Next =====  #}
  <div class="border-t mt-4 pt-4 {{ colors.borderCustom.color or colors.borderDefault.color }} md:flex-row md:flex md:justify-between">
    {% set nextPost = collections.post | getPreviousCollectionItem(page) %}
    {% set previousPost = collections.post | getNextCollectionItem(page) %}
    <div class="py-2 text-center sm:py-0">
      {% if previousPost %}
        <a class="{{ colors.prevNextCustom.text or colors.prevNextDefault.text }} hover:{{ colors.prevNextCustom.text or colors.prevNextDefault.textHover }}" href="{{ previousPost.url | url }}">← {{ previousPost.data.title }}</a>
      {% endif %}
    </div>
    <div class="py-2 text-center sm:py-0">
      {% if nextPost %}
        <a class="{{ colors.prevNextCustom.text or colors.prevNextDefault.text }} hover:{{ colors.prevNextCustom.text or colors.prevNextDefault.textHover }}" href="{{ nextPost.url | url}}">{{ nextPost.data.title }} →</a>
      {% endif %}
    </div>
  </div>
</footer>

{% if richPicture === true %}
  {% include "../components/rich-picture.njk" %}

  {% set css %}
  {% include "src/assets/css/photoswipe/photoswipe.css" %}
  {% include "src/assets/css/photoswipe/skin.css" %}
  {% endset %}
  <style>
    {{css | minify('css') | safe}}
  </style>

  <script  src="/assets/scripts/{{hashes_js['richPicture.js']}}" defer></script>
{% endif %}